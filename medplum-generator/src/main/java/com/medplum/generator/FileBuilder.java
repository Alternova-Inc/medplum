package com.medplum.generator;

public class FileBuilder {
    private final String indent;
    private final StringBuilder b;
    private int indentCount;

    public FileBuilder(final String indent) {
        this.indent = indent;

        b = new StringBuilder();
        append("/*");
        append(" * Generated by " + Generator.class.getName());
        append(" * Do not edit manually.");
        append(" */");
        newLine();
    }

    public void increaseIndent() {
        indentCount++;
    }

    public void decreaseIndent() {
        indentCount--;
    }

    public void newLine() {
        b.append("\n");
    }

    public void append(final String line) {
        b.append(indent.repeat(indentCount));
        b.append(line);
        b.append("\n");
    }

    @Override
    public String toString() {
        return b.toString().replaceAll("\n\n\n", "\n\n");
    }
}
